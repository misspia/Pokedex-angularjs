"use strict";var pkmApp=angular.module("Pokedex",[]);pkmApp.controller("mainCtrl",function(e,t,o,n,r,a){e.stateMain=0,e.moveCategory=o.moveCategory(),e.typeColor="dark",e.changeMenuMain=function(t){e.stateMain=t},t.masterList().then(function(t){var o=t.data;e.masterlist=o});e.toggleState=!1,e.searchPkm="",e.toggleState=!1,e.pushMenuClick=function(){e.toggleState=!e.toggleState},e.getPkm=function(a,i,s,v,u){e.id=i,e.name=s,e.sprite=v,e.form=u,t.getBasic(i).then(function(a){e.entry=a.data,e.typeColor=a.data.Type[0].toLowerCase(),e.stats=a.data.stats,e.moves=a.data.moves,e.weight=n.clearBracket(a.data.Weight),e.height=n.clearBracket(a.data.Height),e.displayMoves={},e.moveDetail={},e.evolution={},e.evolState="1",t.getEvol().then(function(t){for(var o=t.data,n=0;n<o.length;n++)for(var a=0;a<o[n].members.length;a++){var i=o[n].members[a];if(i==e.name.toLowerCase()){var s=r.objectLength(o[n].tree);"eevee"==i||"vaporeon"==i||"jolteon"==i||"flareon"==i||"sylveon"==i||"espeon"==i||"umbreon"==i||"leafeon"==i||"glaceon"==i?(e.evolState="eevee",e.evolution=o[n].tree):3==s?(e.evolState=s,e.evolution=o[n].tree):2==s&&(e.evolState=s,e.evolution=o[n].tree);break}}}),e.choseMoveSet=function(t){e.displayMoves=o.chooseMoveSet(t,e.entry),e.selectedMoveCategory=t+" Moves"},e.getDetail=function(o,r,a){e.moveDetail=t.getDetail(o,r,a,e.displayMoves),t.getDesc().then(function(t){e.moveDetail.description=n.matchKey(t.data,o)},function(t){e.moveDetail.description="No description available :("})}},function(t){e.status1="unable to load data: "+t.message})}}),pkmApp.factory("getData",function(e){var t="../../app/json/",o={};return{masterList:function(){return e.get(t+"list.json")},getBasic:function(o){return e.get(t+"entry/entry-"+o+".json")},getDesc:function(){return e.get(t+"moves.json")},getEvol:function(){return e.get(t+"evolution.json")},getDetail:function(e,t,n,r){o.move=e,o.type=t;var a={};for(var i in r)"move"==i.toLowerCase()||"set"==i.toLowerCase()||"title"==i.toLowerCase()||(a[i]=r[i][n]);return o.detail=a,o}}}),pkmApp.factory("manipulateString",function(){return{clearBracket:function(e){var t=e;return t=t.substring(0,t.indexOf("("))},matchKey:function(e,t){for(var o in e)if(o==t.toLowerCase()){var n=e[o];return n}}}}),pkmApp.factory("choose",function(e){var t={},o={};return{moveCategory:function(){return category=["Level Up","Egg","Tutor","HM","TM","Transfer-only"],category},chooseMoveSet:function(e,o){switch(e.toLowerCase()){case"level up":return t=void 0==o.moves[0]?"na":o.moves[0];case"egg":return t=void 0==o.moves[1]?"na":o.moves[1];case"tutor":return t=void 0==o.moves[2]?"na":o.moves[2];case"hm":return t=void 0==o.moves[3]?"na":o.moves[3];case"tm":return t=void 0==o.moves[4]?"na":o.moves[4];case"transfer-only":return t=void 0==o.moves[5]?"na":o.moves[5]}},findEvolTree:function(e,t,n){return"eevee"==e||"vaporeon"==e||"jolteon"==e||"flareon"==e||"sylveon"==e||"espeon"==e||"umbreon"==e||"leafeon"==e||"glaceon"==e?o=n:3==t?o=n:2==t?o=n:void 0},evolState:function(e,t){return"eevee"==member||"vaporeon"==member||"jolteon"==member||"flareon"==member||"sylveon"==member||"espeon"==member||"umbreon"==member||"leafeon"==member||"glaceon"==member?evolState="eevee":3==t?evolState=t:2==t?evolState=t:void 0}}}),pkmApp.factory("compute",function(){return{objectLength:function(e){var t,o=0;for(t in e)e.hasOwnProperty(t)&&o++;return o}}}),pkmApp.factory("menuToggle",function(){return{state:function(e){return e%2==0}}});